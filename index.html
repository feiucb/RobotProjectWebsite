<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, maximum-scale=1">
<title>Robot Conductor with Baxter</title>
<link rel="icon" href="favicon.png" type="image/png">
<link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="js/fancybox/jquery.fancybox.css" type="text/css" media="screen" />
<link href="css/style.css" rel="stylesheet" type="text/css"> 
<link href="css/font-awesome.css" rel="stylesheet" type="text/css"> 
<link href="css/animate.css" rel="stylesheet" type="text/css">
 
 
</head>
<body>
<!--Header_section-->
<header id="hw">
  <div class="container">
    <div class="header_box">
	  <nav class="navbar navbar-inverse" role="navigation">
      <div class="navbar-header">
        <button type="button" id="nav-toggle" class="navbar-toggle" data-toggle="collapse" data-target="#main-nav"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
        <a href="https://github.com/ryusterakiba/robot_conductor_ryu" class="scroll-top logo animated bounceInLeft fa fa-github fa-4x"></a>
      </div>
	    <div id="main-nav" class="collapse navbar-collapse navStyle">
			<ul class="nav navbar-nav" id="mainNav">
			  <li class="active"><a href="#Introduction" class="scroll-link">Introduction</a></li>
			  
        <li><a href="#Design" class="scroll-link">Design</a></li>
        <li><a href="#Sensing" class="scroll-link">Sensing</a></li>
			  <li><a href="#Planning" class="scroll-link">Planning</a></li>
			  <li><a href="#Actuation" class="scroll-link">Actuation</a></li>
			  <li><a href="#Results" class="scroll-link">Results</a></li>
        <li><a href="#Conclusion" class="scroll-link">Conclusion</a></li>
			  <li><a href="#team" class="scroll-link">Team</a></li>
        <li><a href="#Additional Materials" class="scroll-link">Additional Materials</a></li>

			</ul>
      </div>
	 </nav>
    </div>
  </div>
</header>
<!--Header_section--> 

<!--Introduction-->
<section id="Introduction" class="top_cont_outer">
  <div class="hero_wrapper">
    <div class="container">
      <div class="Introduction">
        <div class="row">
          <div class="col-md-12">
		   
            <div class="top_left_cont zoomIn wow animated"> 
              <h2>Robot Conductor with Baxter</h2>
              <h6 style="text-align: center">Reading music & Moving Baxter</h6>
              
              <h3>Project Goals</h3>
                <p>Make Baxter accurately read sheet music and execute the arm motions
                  required for conducting an orchestra or ensemble with correct timing of the beats.</p>
              
              <h3>Interesting Aspects</h3>
                <p>This Baxter conductor is able to recognize the following:
                  <ul style="list-style-type:disc">
                    <li>Time signature: how many notes are in a measure</li>
                    <li>Rhythm: duration of notes</li>
                    <li>Tempo: speed of the song</li>
                    <li>Dynamics: when a portion of the song changes volume</li>
                  </ul>
                  For time signature, Baxter is able to conduct songs in 4/4 time, recognize duration of ending
                  notes and adjust ending motions accordingly, keep a consistent speed with songs 75 BPM and slower 
                  when conducting, and indicate crescendos with its left arm. 
                </p>
              
              <h3>Potential Applications</h3>
                <p>It can be very beneficial for younger students playing slower songs. The robot conductor can 
                  teach students in band or orchestra to look up in order to keep a consistent speed as well as 
                  make dynamic changes when necessary. For example, with students who are just learning music, it 
                  might be easier for them to have a robot conductor as a visual aid rather than staring at the 
                  music sheet itself. Visual cues are a lot easier to process in general, and we hope that the Baxter
                  conductor can be useful!
                </p>
          </div> 
        </div>
      </div>
    </div>
  </div>
</section>
<!--Introduction--> 

<!--Design-->
<section id="Design">
  <p>To see specific implementation details, please scroll below to the Sensing, Planning, and Actuation sections.</p>
</section>

<!--Sensing-->
<section id="Sensing">
  <div class="container">
    <h2>Sensing</h2>
    <div class="Sensing_wrapper">
      <div class="row">
        <div class="col-lg-3">
		<div class="Sensing_icon delay-03s animated wow  zoomIn"> <span><i class="fa fa-camera-retro fa-lg"></i></span> </div>
          <div class="Sensing_block">
            <h3 class="animated fadeInUp wow">Music Recognition</h3>
              <p class="animated fadeInDown wow">Computer Vision/Optical Music Recognition by using Orchestra Software package</p>
            
          </div>
        </div>
        <div class="col-lg-3"> 
		<div class="Sensing_icon icon2  delay-03s animated wow zoomIn"> <span><i class="fa fa-pencil fa-lg"></i></span> </div> 

		<div class="Sensing_block">
            <h3 class="animated fadeInUp wow">Input</h3>
            <p class="animated fadeInDown wow">Take sheet music as input</p>
          </div>
          
        </div>

        <div class="col-lg-3">
		<div class="Sensing_icon icon3  delay-03s animated wow zoomIn"> <span><i class="fa fa-file-image-o fa-lg"></i></span> </div>
          <div class="Sensing_block">
            
            <h3 class="animated fadeInUp wow">Image Processing</h3>
            <p class="animated fadeInDown wow">Noise Removal, Binarization, Staff Line Removal, Cutted Buckets, Segmentation and Detection, Recognition </p>
          </div>
        </div>
        <div class="col-lg-3">
          <div class="Sensing_icon icon3  delay-03s animated wow zoomIn"> <span><i class="fa fa-file-text fa-lg"></i></span> </div>
                <div class="Sensing_block">
                  
                  <h3 class="animated fadeInUp wow">Text Representation</h3>
                  <p class="animated fadeInDown wow">Produce a text representation of the music which is machine-readable </p>
                </div>
              </div>      
      </div> 
    </div>

    <div class="Sensing_block">
      <p>
        Here are a list of steps that Orchestra performs using computer vision and machine learning algorithms:
      </p>
      
      <h3>Noise Removal</h3>
        <p>
          The software takes an image file of a PDF of sheet music and removes any potential source of noise that
          it can find, such as markings or discoloration not related to the music.
        </p>
        <img src="img/Orchestra_images/noise_removal.png" alt="Noise Removal">
      
      <h3>Binarization</h3>
        <p>
          The software takes the cleaned image file and converts it into only black and white colors so that it's 
          easier for the computer vision algorithm to parse through the file without having to deal with extra colors
          (i.e. a gray background)
        </p>
        <img src="img/Orchestra_images/binarization.png" alt="Binarization">
      
      <h3>Staff Line Removal</h3>
        <p>
          Orchestra gets rid of the extraneous staff lines for further data processing.
          The only things that the software cares about are the time signature, pitch of the notes, the note 
          durations, and the measure endings.
        </p>
        <img src="img/Orchestra_images/staff_line_removal.png" alt="Staff Line Removal">
      
      <h3>Cutted Buckets</h3>
        <p>
          From the removed staff lines, we break each line into separate arrays so that it's easier to iterate
          through the song.
        </p>
        <img src="img/Orchestra_images/cutted_buckets_together.png" alt="Cutted Buckets">
  
      <h3>Segmentation and Detection</h3>
        <p>
          Here, the computer vision software detects the time signature, the rhythm of the notes, and the measure 
          bars in order to figure out when a line starts and ends.
        </p>
        <img src="img/Orchestra_images/segmentation_and_detection_total.png" alt="Segmentation and Detection">
  
      <h3>Recognition</h3>
        <p>
          Finally, we see that the software has the capability to recognize which time signature the sheet music
          indicates, the specific pitches of the notes appended with its note duration, and grouped notes within brackets
          in order to denote chords. Orchestra is built to be able to recognize sharps and flats as well as dotted notes.
          All of this information is outputted as multiple arrays depending on the number of lines in the sheet music.
        </p>
        <img src="img/Orchestra_images/recognition.png" alt="Recognition">
    </div>

  </div>
</section>
<!--Sensing-->

<!--Planning-->
<section id="Planning">
  <div class="inner_wrapper Planning-container fadeInLeft animated wow">
  <div class="container">
    <h2>Planning</h2>
	<h6>System Design and Operational Diagrams</h6>
    <div class="inner_section">
 
	  <div class="row">
      
						<div class="col-lg-12 Planning">
							<div class="row">
							<div class="col-md-6">
								<h3>Convert</h3>
									<p>
                    Take text output of music and convert to robot commands
                  </p>
                  <img src="img/messages.jpg" alt="messages defination">
                  
								</div><!-- /.col-md-6 -->
								<div class="col-md-6">
									<h3>ROS</h3>
									<p>Publish and subscribe system	</p>
                  <img src="img/subscribe.jpg" alt="subscribe Diagrams">
								</div><!-- /.col-md-6 -->
								
							</div><!-- /.row -->	
						</div><!-- /.col-lg-12 -->
					</div>
      
    </div>
  </div> 
  </div>
</section>
<!--Planning--> 

<!-- Actuation -->
<section id="Actuation" class="content"> 
  <div class="inner_wrapper Planning-container fadeInLeft animated wow">
    <div class="container">
      <h2>Actuation</h2>
    <h4 style="text-align: center">Baxter Conductor Motion</h4>
      <div class="inner_section">
   
      <div class="row">
              <div class="col-lg-12 Planning">
                <div class="row">
                <div class="col-md-6">
                  <h3 >Baxter configuration</h3>
                  <h4 >joint_limits.yaml</h4>
                  <ul>
                    <li >
                       MoveIt joint velocity limits increased
                    </li>
                    <li>Allows us to move the robot faster - up to 60 bpm so far</li>
                  </ul>  
                  <h4 >kinematics.yaml </h4>
                  <ul>
                    <li >
                      Change IK solver to use TRACLabs' IK solver
                    </li>
                    <li>This drastically reduced computation time. Reduces the pauses between beats</li>
                  </ul>  
                  </div><!-- /.col-md-6 -->
                  
                  <div class="col-md-6">
                    <h3 >Getting goal positions</h3>
                    <h4 >Record </h4>
                    <ul>
                      <li >
                        We record named joint positions for each beat and other motions (cutoff, crescendo, decrescendo)
                      </li>
                      <li>Joint positions allow for more reproducible motions - important when doing many cycles of the beat pattern</li>
                    </ul> 
                    </div><!-- /.col-md-6 -->
                  
                </div><!-- /.row -->	
              </div><!-- /.col-lg-12 -->

            </div>

            <div class="row">
              <div class="col-lg-12 Planning">
                <div class="row">
                <div class="col-md-6">
                  <h3 >Planning to positions</h3>
                  <h4 >MoveIt</h4>
                  <ul>
                    <li >
                      Use MoveIt to plan a RobotTrajectory using TRAC-IK
                    </li>
                    <li>Scale RobotTrajectory velocities up to speed up the execution</li>
                  </ul>  
                  </div><!-- /.col-md-6 -->
                  
                  <div class="col-md-6">
                    <h3 >Getting goal positions</h3>
                    <h4 >MoveGroupCommander </h4>
                    <ul>
                      <li >
                        Timing the motion for tempo
                      </li>
                      <li>Motion is stopped after a set time</li>
                      <li>Plan towards next beat from current position</li>
                      <li>Faster tempo means smaller motions</li>
                    </ul>  
                    </div><!-- /.col-md-6 -->
                  
                </div><!-- /.row -->	
              </div><!-- /.col-lg-12 -->

            </div>
        
      </div>
    </div> 
    </div>  
</section>
<!--Actuation --> 

<!--page_section-->
<section class="page_section" id="Results">
  <h2>Results</h2>
<!--page_section-->

<!--Results_logos-->
<div class="Results_logos">
  <div class="container">

    <img src="img/Sheet_music/hot_cross_buns.png" style="float:left;width:560px;height:315px;" alt="Hot Cross Buns">

    <iframe width="560" height="315" src="https://www.youtube.com/embed/CwRsXUbEWsk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    <img src="img/Sheet_music/canon_in_d.png" style="float:left;width:560px;height:315px;" alt="Canon D">
    <iframe width="560" height="315" src="https://www.youtube.com/embed/iuCKFPoy_r0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  </div>
</div>
</section>
<!--Results_logos-->

<!--Conclusion-->
<section id="Conclusion">
  <p>TBD</p>
</section>
<!--Conclusion-->

<section class="page_section team" id="team"><!--main-section team-start-->
  <div class="container">
    <h2>Team</h2>
    <div class="team_section clearfix">
      <div class="team_area">
        <div class="team_box wow fadeInDown delay-03s">
          <div class="team_box_shadow"><a href="javascript:void(0)"></a></div>
          <img src="img/team-1.png" alt="">
          <ul>
            <li><a href="javascript:void(0)" class="fa fa-twitter"></a></li>
            <li><a href="javascript:void(0)" class="fa fa-facebook"></a></li>
            <li><a href="javascript:void(0)" class="fa fa-github"></a></li>
          </ul>
        </div>
        <h3 class="fadeInDown delay-03s">Cooper Collier</h3>
      </div>
      <div class="team_area">
        <div class="team_box  wow fadeInDown delay-06s">
          <div class="team_box_shadow"><a href="javascript:void(0)"></a></div>
          <img src="img/team-2.jpeg" alt="">
          <ul>
            <li><a href="javascript:void(0)" class="fa fa-twitter"></a></li>
            <li><a href="javascript:void(0)" class="fa fa-facebook"></a></li>
            <li><a href="javascript:void(0)" class="fa fa-github"></a></li>
          </ul>
        </div>
        <h3 class=" fadeInDown delay-06s">Dean Zhang</h3>
      </div>
      <div class="team_area">
        <div class="team_box wow fadeInDown delay-09s">
          <div class="team_box_shadow"><a href="javascript:void(0)"></a></div>
          <img src="img/team-3.png" alt="">
          <ul>
            <li><a href="javascript:void(0)" class="fa fa-twitter"></a></li>
            <li><a href="javascript:void(0)" class="fa fa-facebook"></a></li>
            <li><a href="javascript:void(0)" class="fa fa-github"></a></li>
          </ul>
        </div>
        <h3 class="fadeInDown delay-09s">Fei Du</h3>
      </div>
      <div class="team_area">
        <div class="team_box wow fadeInDown delay-09s">
          <div class="team_box_shadow"><a href="javascript:void(0)"></a></div>
          <img src="img/team-4.jpeg" alt="">
          <ul>
            <li><a href="javascript:void(0)" class="fa fa-twitter"></a></li>
            <li><a href="javascript:void(0)" class="fa fa-facebook"></a></li>
            <li><a href="javascript:void(0)" class="fa fa-github"></a></li>
          </ul>
        </div>
        <h3 class=" fadeInDown delay-09s">Ryu Akiba</h3>
      </div>
    </div>
  </div>
</section>
<!--/Team-->

<!--Additional Materials-->
<section id="Additional Materials">
  <p>TBD</p>
</section>
<!--Additional Materials-->

<script type="text/javascript" src="js/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/jquery-scrolltofixed.js"></script>
<script type="text/javascript" src="js/jquery.nav.js"></script> 
<script type="text/javascript" src="js/jquery.easing.1.3.js"></script>
<script type="text/javascript" src="js/jquery.isotope.js"></script>
<script src="js/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script> 
<script type="text/javascript" src="js/wow.js"></script> 
<script type="text/javascript" src="js/custom.js"></script>

</body>
</html>